server:
  port: 8080

spring:
  profiles:
    default: dev
  application:
    name: pdf-api
  servlet:
    multipart:
      enabled: true
      max-file-size: 10MB
      max-request-size: 10MB
  jpa:
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        connection:
          provider_disables_autocommit: true
  datasource:
    hikari:
      auto-commit: false
      leakDetectionThreshold: 20000
      maximumPoolSize: 5
      minimumIdle: 1
      validationTimeout: 5000
      keepaliveTime: 10000
      maxLifetime: 1800000

jwt:
  expiration: 86400

app:
  auth:
    email-verification:
      enabled: false
  recovery:
    retry:
      enabled: true
      fixed-delay-ms: 900000
      max-attempts: 5
      batch-size: 50
      backoff:
        base-minutes: 15
        max-minutes: 360

tesseract:
  datapath: /usr/share/tesseract-ocr/4.00/tessdata
  lang: deu+eng
  dpi: 300
  psm: 6

logging:
  level:
    org.springframework: ERROR
    org.hibernate.SQL: ERROR
    org.springframework.transaction.interceptor: ERROR
    org.springframework.security: INFO
    org.papercloud.de.pdfocr: INFO

---
spring:
  config:
    activate:
      on-profile: dev
  datasource:
    url: jdbc:postgresql://localhost:5432/pdf_management
    username: admin
    password: admin
    driver-class-name: org.postgresql.Driver
  mail:
    host: smtp.gmail.com
    port: 587
    username: your-email@gmail.com
    password: your-app-password
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
    from: noreply@yourapp.com

jwt:
  secret: yourVeryLongSecretKeyHere1234567890AbcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ

elasticsearch:
  url: http://192.168.2.107:9200

app:
  frontend-url: http://localhost:4200

---
spring:
  config:
    activate:
      on-profile: prod
  datasource:
    url: ${DB_URL}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
    driver-class-name: org.postgresql.Driver
  mail:
    host: ${MAIL_HOST:smtp.gmail.com}
    port: ${MAIL_PORT:587}
    username: ${MAIL_USERNAME}
    password: ${MAIL_PASSWORD}
    properties:
      mail:
        smtp:
          auth: ${MAIL_SMTP_AUTH:true}
          starttls:
            enable: ${MAIL_SMTP_STARTTLS:true}
    from: ${MAIL_FROM:noreply@yourapp.com}

jwt:
  secret: ${JWT_SECRET}

elasticsearch:
  url: ${ELASTICSEARCH_URL}

app:
  frontend-url: ${FRONTEND_URL}
  recovery:
    retry:
      enabled: ${RECOVERY_RETRY_ENABLED:true}
      fixed-delay-ms: ${RECOVERY_RETRY_FIXED_DELAY_MS:900000}
      max-attempts: ${RECOVERY_RETRY_MAX_ATTEMPTS:5}
      batch-size: ${RECOVERY_RETRY_BATCH_SIZE:50}
      backoff:
        base-minutes: ${RECOVERY_RETRY_BACKOFF_BASE_MINUTES:15}
        max-minutes: ${RECOVERY_RETRY_BACKOFF_MAX_MINUTES:360}

tesseract:
  datapath: ${TESSERACT_DATAPATH:/usr/share/tesseract-ocr/4.00/tessdata}
  lang: ${TESSERACT_LANG:deu+eng}
  psm: ${TESSERACT_PSM:6}
